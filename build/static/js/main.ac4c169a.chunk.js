(window.webpackJsonptest=window.webpackJsonptest||[]).push([[0],{16:function(e,t,a){e.exports=a(25)},21:function(e,t,a){},23:function(e,t,a){},25:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),l=a.n(c),o=(a(21),a(11)),i=a(4),u=a(5),s=a(7),d=a.n(s),m=a(10),p="http://test-app.viktor.ws/api/products",f=function(){var e=Object(m.a)(d.a.mark((function e(t){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.next=2;break;case 2:return e.prev=2,e.next=5,fetch(p);case 5:return a=e.sent,e.next=8,a.json();case 8:n=e.sent,t(n.data),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(m.a)(d.a.mark((function e(t,a){var n,r,c,l,o,i,u,s,m,f=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=f.length>2&&void 0!==f[2]?f[2]:{method:"GET"},r=n.method,c=void 0===r?"GET":r,l=n.body,o=void 0===l?null:l,i=t?p+"/"+t:p){e.next=4;break}throw new Error("Url should be specified");case 4:return u={method:c,headers:{Accept:"*/*","Content-Type":"application/json; charset=utf-8","Access-Control-Allow-Origin":"*"}},o&&(u.body=JSON.stringify(o)),e.prev=7,e.next=10,fetch(i,u);case 10:return s=e.sent,e.next=13,s.json();case 13:m=e.sent,a(m.data),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),console.error(e.t0);case 20:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t,a){return e.apply(this,arguments)}}(),E=function(e,t){return b(e,t,{method:"DELETE"})},v=(a(23),a(9),a(6)),O=a.n(v),h=a(15),j=a.n(h),y=function(e){var t=e.text,a=e.className,n=e.value,c=void 0===n?null:n,l=e.onChange,o=e.placeholder,i=e.mask,u=e.validator,s=e.disabled,d=void 0!==s&&s,m=function(e){var t=u&&u(e.target.value)||""===e.target.value;if(u&&!t)return!1;l(e.target.value)};return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("span",null,t,":"),i&&r.a.createElement(j.a,{type:"text",placeholder:o,name:t,value:c,mask:i,placeholderChar:"\u2000",onChange:m,disabled:d}),!i&&r.a.createElement("label",{className:"input-wrap"},r.a.createElement("input",{type:"text",className:a,onChange:m,placeholder:o,disabled:d,value:c})))},N=function(e){return/^\d+$/i.test(e)},g=function(e){return/^(\d){4}-(\d){4}/.test(e)},w=function(e){return function(){document.querySelector(e).scrollIntoView({block:"end",behavior:"smooth"})}},k=a(26);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var C=function(e){var t=e.product,a=t.id,c=t.created_at,l=t.updated_at,o=e.updateProduct,s=e.deleteProduct,d=e.close,m=Object(n.useState)(e.product),p=Object(i.a)(m,2),f=p[0],b=p[1],E=Object(n.useState)(!1),v=Object(i.a)(E,2),h=v[0],j=v[1],w=Object(n.useState)({}),C=Object(i.a)(w,2),D=C[0],S=C[1],X=function(e){return function(t){b(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},f,Object(u.a)({},e,t||"")))}};return r.a.createElement("div",{className:"product-card"},r.a.createElement("button",{className:"close-button",onClick:d},r.a.createElement("span",null,"x")),r.a.createElement("div",{className:"flex"},r.a.createElement("h3",null,r.a.createElement("span",{className:"id"},"id: ",a),r.a.createElement(y,{value:f.name,disabled:!h,onChange:X("name")}),r.a.createElement("div",{className:"error"},D.name)),r.a.createElement("div",{className:"price"},r.a.createElement("div",{className:"label"},"Price:"),r.a.createElement(y,{value:f.price,disabled:!h,onChange:X("price"),validator:N}),r.a.createElement("div",{className:"error"},D.price))),r.a.createElement("div",{className:"code"},r.a.createElement("span",{className:"label"},"Code:"),r.a.createElement(y,{value:f.code,disabled:!h,onChange:X("code"),mask:[/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/]}),r.a.createElement("div",{className:"error"},D.code)),r.a.createElement("div",{className:"created"},r.a.createElement("span",{className:"label"},"Created:"),O()(c).format("DD/MM/YYYY")),r.a.createElement("div",{className:"updated"},r.a.createElement("span",{className:"label"},"Updated:"),O()(l).format("DD/MM/YYYY")),r.a.createElement("div",{className:"button-group"},!h&&r.a.createElement("button",{className:"button",onClick:function(){return j(!h)}},"Edit"),o&&h&&r.a.createElement("button",{className:"button",onClick:function(){var e={name:Object(k.a)(f.name)||!f.name?"Required.":null,code:g(f.code)?null:"Required. Should be in format XXXX-XXXX and only digits",price:N(f.price)?null:"Required. Should be only digits"};S(e),Object.values(e).every((function(e){return Object(k.a)(e)}))&&o(f)}},"Update"),s&&r.a.createElement("button",{className:"button danger",onClick:s},"Delete")))},D=function(e){var t=e.product,a=t.id,n=t.name,c=t.code,l=t.price,o=t.created_at,i=t.updated_at,u=e.clickHandler,s=e.activeProduct;return r.a.createElement("tr",{className:"product-item ".concat(s&&s.id===a?"active":""),onClick:u(a)},r.a.createElement("td",{className:"id"},a),r.a.createElement("td",{className:"name"},n),r.a.createElement("td",{className:"code"},c),r.a.createElement("td",{className:"price"},l),r.a.createElement("td",{className:"created"},O()(o).format("DD/MM/YYYY")),r.a.createElement("td",{className:"updated"},O()(i).format("DD/MM/YYYY")))};function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var X=function(e){var t=e.product,a=e.addProduct,c=e.close,l=Object(n.useState)(t),o=Object(i.a)(l,2),s=o[0],d=o[1],m=Object(n.useState)({}),p=Object(i.a)(m,2),f=p[0],b=p[1],E=function(e){return function(t){d(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},s,Object(u.a)({},e,t||"")))}};return r.a.createElement("div",{className:"product-card add-product-form"},r.a.createElement("button",{className:"close-button",onClick:c},r.a.createElement("span",null,"x")),r.a.createElement("h3",null,"Add a new product"),r.a.createElement("div",null,r.a.createElement(y,{text:"Name",value:s.name,onChange:E("name")}),r.a.createElement("div",{className:"error"},f.name)),r.a.createElement("div",null,r.a.createElement(y,{text:"Code",value:s.code,placeholder:"XXXX-XXXX",mask:[/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/],onChange:E("code")}),r.a.createElement("div",{className:"error"},f.code)),r.a.createElement("div",null,r.a.createElement(y,{text:"Price",value:s.price,onChange:E("price"),validator:N}),r.a.createElement("div",{className:"error"},f.price)),r.a.createElement("div",{className:"button-group"},a&&r.a.createElement("button",{className:"button",onClick:function(){var e={name:Object(k.a)(s.name)||!s.name?"Required.":null,code:g(s.code)?null:"Required. Should be in format XXXX-XXXX and only digits",price:N(s.price)?null:"Required. Should be only digits"};b(e),Object.values(e).every((function(e){return Object(k.a)(e)}))&&a(s)}},"Add")))},x=a(27),Y=a(28),A=a(29),M=a(31),R=a(30),_=function(){return r.a.createElement("div",{className:"task-wrap container"},r.a.createElement("h2",null,"\u0417\u0430\u0434\u0430\u0447\u0430"),r.a.createElement("div",{className:"flex"},r.a.createElement("div",{className:""},r.a.createElement("p",null,"\u0415\u0441\u0442\u044c \u0433\u043e\u0442\u043e\u0432\u043e\u0435 \u0431\u044d\u043a\u0435\u043d\u0434-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 - \u0431\u0430\u0437\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0438\u043c\u0435\u0435\u0442 JSON REST-API."),r.a.createElement("ul",null,r.a.createElement("li",null,"code - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f, \u0434\u043e\u043b\u0436\u043d\u043e \u0438\u043c\u0435\u0442\u044c \u0444\u043e\u0440\u043c\u0430\u0442 ####-####, \u0433\u0434\u0435 # - \u0446\u0438\u0444\u0440\u0430 \u043e\u0442 1 \u0434\u043e 9."),r.a.createElement("li",null,"name - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f, \u0441\u0442\u0440\u043e\u043a\u0430"),r.a.createElement("li",null,"price - \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f, \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"))),r.a.createElement("div",{className:"w"},r.a.createElement("p",null,"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u043b\u044e\u0431\u043e\u0438\u0306 \u0441\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0438\u0306 \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434 \u0424\u0440\u0435\u0438\u0306\u043c\u0432\u043e\u0440\u043a (Angular/Vue/React/\u0434\u0440\u0443\u0433\u043e\u0438\u0306; Vue - \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u043e), \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0444\u0440\u043e\u043d\u0442\u0435\u043d\u0434-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u0441 \u0431\u044d\u043a\u0435\u043d\u0434\u043e\u043c \u0438 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438:"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u0412\u044b\u0432\u043e\u0434\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 + \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 \u043f\u043e code, name \u043b\u0438\u0431\u043e price \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"),r.a.createElement("li",null,"\u0420\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u044b\u0432\u0430\u0442\u044c \u0444\u043e\u0440\u043c\u044b \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u043d\u0438\u044f/\u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0435\u043d\u0438\u044f/\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432. \u0421\u043e\u043e\u0431\u0449\u0430\u0442\u044c \u043e\u0431 \u043e\u0448\u0438\u0431\u043a\u0430\u0445 \u0432\u0430\u043b\u0438\u0434\u0430\u0446\u0438\u0438"),r.a.createElement("li",null,"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043e \u043a\u0430\u043a\u043e\u043c-\u043d\u0438\u0431\u0443\u0434\u044c \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0435 (/api/products/id), \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u0430"),r.a.createElement("li",null,"\u0420\u0435\u0448\u0435\u043d\u0438\u0435 \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430 \u0432 \u0433\u0438\u0442-\u0440\u0435\u043f\u043e\u0437\u0438\u0442\u043e\u0440\u0438\u0438\u0306 (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0433\u0438\u0442\u0445\u0430\u0431). \u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u0440\u0430\u0442\u043a\u0443\u044e \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044e \u043f\u043e \u0441\u0431\u043e\u0440\u043a\u0435 \u0438 \u0437\u0430\u043f\u0443\u0441\u043a\u0443 (npm install/run \u0438 \u0442.\u0434)")))))},B=function(){return r.a.createElement("div",{className:"footer-wrap",id:"footer"},r.a.createElement(_,null))},T=function(){return r.a.createElement("header",{className:"App-header container"},r.a.createElement("h1",null,"\u0422\u0435\u0441\u0442\u043e\u0432\u043e\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u0435"),r.a.createElement("div",{className:"project-description"},r.a.createElement("div",null,"\u0410\u0432\u0442\u043e\u0440 ",r.a.createElement("a",{href:"https://sitewanted.ru/cv",className:"author",target:"_blank"},"\u0410\u0440\u0442\u0435\u043c\u0438\u0439 \u0415\u0433\u043e\u0440\u043e\u0432")),r.a.createElement("time",{className:"date"},"\u0414\u0430\u0442\u0430: 23/10/2019"),r.a.createElement("div",{className:"time"},"\u0417\u0430\u0442\u0440\u0430\u0447\u0435\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f: 5\u0447."),r.a.createElement("div",{onClick:w("#footer"),className:"about"},"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435 \u043e \u0437\u0430\u0434\u0430\u0447\u0435")))};function q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function I(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?q(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):q(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function L(e,t){var a=I({},e,{},t),n=a.table,r=a.isDesc,c=a.sortBy,l=a.filter,o=r?x.a:Y.a,i=Object(A.a)(o(Object(M.a)(c)));return{table:Object(R.a)((function(e){return e.name.toLowerCase().includes(l.toLowerCase())||e.code.toString().includes(l.toLowerCase())||e.id.toString().includes(l.toLowerCase())}),i(n)),filter:l,sortBy:c,isDesc:r}}var U=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(null),u=Object(i.a)(l,2),s=u[0],d=u[1],m=Object(n.useState)(null),p=Object(i.a)(m,2),v=p[0],O=p[1],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,a={isDesc:!(arguments.length>2&&void 0!==arguments[2])||arguments[2],sortBy:t,table:e,filter:arguments.length>3&&void 0!==arguments[3]?arguments[3]:""},r=Object(n.useReducer)(L,a),c=Object(i.a)(r,2);return[c[0],c[1]]}(a,"price",!1),j=Object(i.a)(h,2),N=j[0],g=j[1];Object(n.useEffect)((function(){f(c)}),[]),Object(n.useEffect)((function(){g({table:a})}),[a]);var k=function(e){return function(){b(e,d),setTimeout(w(".product-card"),300)}},P=function(e){return function(){O(I({},{name:"",price:"",code:""},{},e))}},S=function(e){return function(){var t=e===N.sortBy&&!N.isDesc;g({sortBy:e,isDesc:t})}},x=function(e){if(e===N.sortBy)return N.isDesc?"desc":"asc"};return r.a.createElement("div",{className:"App"},r.a.createElement(T,null),r.a.createElement("div",{className:"content container"},r.a.createElement("h2",null,"Products (",N.table.length,"/",a.length,")",r.a.createElement("button",{className:"button",onClick:P()},"+")),r.a.createElement("p",null,"You can filter by name, code or ID. Start typing"),r.a.createElement(y,{value:N.filter,onChange:function(e){return g({table:a,filter:e})}}),r.a.createElement("div",{className:"flex"},a&&r.a.createElement("table",{className:"products"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("div",{onClick:S("id"),className:x("id")},"ID")),r.a.createElement("th",null,r.a.createElement("div",{onClick:S("name"),className:x("name")},"Name")),r.a.createElement("th",null,r.a.createElement("div",{onClick:S("code"),className:x("code")},"Code")),r.a.createElement("th",null,r.a.createElement("div",{onClick:S("price"),className:x("price")},"Price")),r.a.createElement("th",null,r.a.createElement("div",{onClick:S("created_at"),className:x("created_at")},"Created")),r.a.createElement("th",null,r.a.createElement("div",{onClick:S("updated_at"),className:x("updated_at")},"Updated")))),r.a.createElement("tbody",null,N.table.map((function(e){return r.a.createElement(D,{key:e.id,product:e,activeProduct:s,clickHandler:k})})))),r.a.createElement("div",{className:"add-product-wrap"},v&&r.a.createElement(X,{product:v,addProduct:function(e){b(null,(function(e){return c([].concat(Object(o.a)(a),[e]))}),{method:"POST",body:I({},e)}),O(null)},close:function(){return O(null)}}))),s&&r.a.createElement(C,{key:s.id,product:s,editMode:P,updateProduct:function(e){return function(){b(e.id,d,{method:"PUT",body:I({},e)});var t=[].concat(Object(o.a)(a.filter((function(t){return t.id!==e.id}))),[e]);c(t)}},deleteProduct:function(){var e=a.filter((function(e){return s.id!==e.id}));E(s.id,(function(){c(e)})),d(null)},close:function(){return d(null)}})),r.a.createElement(B,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,a){}},[[16,1,2]]]);
//# sourceMappingURL=main.ac4c169a.chunk.js.map
